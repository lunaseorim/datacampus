lon = "경도",
layer_id = "hex_layer",
elevation_scale = 100,
elevation = "카메라대수"
)
mapdeck(token = key, style = mapdeck_style("dark"), pitch = 45)
cctv2 <- cctv1[1:3000,c(5,11,12)] %>%
colnames(c("value","lat","lon"))
View(cctv2)
c("value","lat","lon")
cctv2 <- cctv1[1:3000,c(5,11,12)] %>%
`colnames<-`(c("value","lat","lon"))
mapdeck(token = key, style = mapdeck_style("dark"), pitch = 45) %>%
add_grid(
data = cctv1,
lat = "lat",
lon = "lon",
layer_id = "hex_layer",
elevation_scale = 100,
elevation = "value"
)
mapdeck(token = key, style = mapdeck_style("dark"), pitch = 45) %>%
add_grid(
data = cctv2,
lat = "lat",
lon = "lon",
layer_id = "hex_layer",
elevation_scale = 100,
elevation = "value"
)
mapdeck(token = key, style = mapdeck_style("dark"), pitch = 60) %>%
add_grid(
data = cctv2,
lat = "lat",
lon = "lon",
layer_id = "hex_layer",
elevation_scale = 100,
elevation = "value"
)
mapdeck(token = key, style = mapdeck_style("dark"), pitch = 15) %>%
add_grid(
data = cctv2,
lat = "lat",
lon = "lon",
layer_id = "hex_layer",
elevation_scale = 100,
elevation = "value"
)
mapdeck(token = key, style = mapdeck_style("dark"), pitch = 30) %>%
add_grid(
data = cctv2,
lat = "lat",
lon = "lon",
layer_id = "hex_layer",
elevation_scale = 100,
elevation = "value"
)
mapdeck(token = key, style = mapdeck_style("dark"), pitch = 40) %>%
add_grid(
data = cctv2,
lat = "lat",
lon = "lon",
layer_id = "hex_layer",
elevation_scale = 100,
elevation = "value"
)
mapdeck(token = key, style = mapdeck_style("dark"), pitch = 40) %>%
add_grid(
data = cctv2,
lat = "lat",
lon = "lon",
layer_id = "hex_layer",
elevation_scale = 500,
elevation = "value"
)
mapdeck(token = key, style = mapdeck_style("dark"), pitch = 40) %>%
add_grid(
data = cctv2,
lat = "lat",
lon = "lon",
layer_id = "hex_layer",
elevation_scale = 200,
elevation = "value"
)
styler:::style_active_file()
hcmap(
map = "countries/kr/kr-all",
data = hc_key,
value = "perc",
dataLabels = list(enabled = F)
) %>%
hc_plotOptions(
series = list(
cursor = "pointer",
point = list(
events = list(
click =
)
)
)
)
## ---Load Package---
library(highcharter)
setwd("/home/yd0010/yd_10")
source("shiny_app/global.r")
mapdata <- get_data_from_map(download_map_data("countries/kr/kr-all"))
hc_key <- mapdata %>%
select("hc-key") %>%
mutate(variable = c(
NA, "경기", "전북", "경남", "전남", "부산", "경북", "세종", "대전", "울산",
"인천", "강원", "충남", "제주", "충북", "서울", "대구", "광주"
)) %>%
join(., icu_global, match = "all", "variable") %>%
mutate(perc = round(beds / limit, 2))
hcmap(
map = "countries/kr/kr-all",
data = hc_key,
value = "perc",
dataLabels = list(enabled = F)
) %>%
hc_plotOptions(
series = list(
cursor = "pointer",
point = list(
events = list(
click =
)
)
)
)
hc_key <- mapdata %>%
select("hc-key") %>%
mutate(variable = c(
NA, "경기", "전북", "경남", "전남", "부산", "경북", "세종", "대전", "울산",
"인천", "강원", "충남", "제주", "충북", "서울", "대구", "광주"
)) %>%
join(., icu_global, match = "all", "variable") %>%
mutate(perc = round(beds / limit, 2))
hcmap(
map = "countries/kr/kr-all",
data = hc_key,
value = "perc",
dataLabels = list(enabled = F)
) %>%
hc_plotOptions(
series = list(
cursor = "pointer",
point = list(
events = list(
click =
)
)
)
)
View(hc_key)
hcmap(
map = "countries/kr/kr-all",
data = hc_key,
value = "perc",
dataLabels = list(enabled = F)
) %>%
hc_plotOptions(
series = list(
cursor = "pointer",
point = list(
events = list(
click =
)
)
)
)
hcmap(
map = "countries/kr/kr-all",
data = hc_key,
value = "perc",
dataLabels = list(enabled = F)
)
View(raw_icu)
hc_key <- raw_icu %>%
rbind(1:nrow(.))
View(hc_key)
hc_key <- raw_icu %>%
cbind(1:nrow(.))
hc_key <- raw_icu %>%
cbind(col=1:nrow(.))
hc_key <- raw_icu %>%
cbind(no=1:nrow(.)) %>%
t()
hc_key <- raw_icu %>%
cbind(no=1:nrow(.)) %>%
melt()
hc_key <- raw_icu %>%
cbind(no=1:nrow(.)) %>%
melt(no)
hc_key <- raw_icu %>%
cbind(no=1:nrow(.)) %>%
melt("no")
hc_key <- raw_icu %>%
cbind(no=1:nrow(.))
hc_key <- raw_icu %>%
`[`(,-1:-2) %>%
t()
View(hc_key)
hc_key <- raw_icu %>%
`[`(nrow(.)-50:nrow(.),-1:-2) %>%
t()
str(hc_key)
hc_key <- raw_icu %>%
`[`(nrow(.)-50:nrow(.),-1:-2) %>%
t() %>%
join(rownames(.),type="left")
hc_key <- raw_icu %>%
`[`(nrow(.)-50:nrow(.),-1:-2) %>%
t() %>%
cbind(rownames(.))
View(hc_key)
hc_key <- raw_icu %>%
`[`(nrow(.)-50:nrow(.),-1:-2)
raw_icu[nrow(raw_icu):-1:-2]
raw_icu[nrow(raw_icu),-1:-2]
raw_icu[(nrow(raw_icu)-50):nrow(raw_icu),-1:-2]
hc_key <- raw_icu %>%
`[`((nrow(.)-50):nrow(.),-1:-2)
View(hc_key)
hc_key <- raw_icu %>%
`[`((nrow(.)-49):nrow(.),-1:-2) %>%
t()
hc_key <- raw_icu %>%
`[`((nrow(.)-49):nrow(.),-1:-2) %>%
t() %>%
cbind(rownames(.))
hc_key <- raw_icu %>%
`[`((nrow(.)-49):nrow(.),-1:-2) %>%
t() %>%
cbind(geo = rownames(.))
hc_key <- raw_icu %>%
`[`((nrow(.)-49):nrow(.),-1:-2) %>%
t() %>%
mutate(variable = c(
NA, "경기", "전북", "경남", "전남", "부산", "경북", "세종", "대전", "울산",
"인천", "강원", "충남", "제주", "충북", "서울", "대구", "광주"
)) %>%
`rownames<-`(1:nrow(.))
hc_key <- raw_icu %>%
`[`((nrow(.)-49):nrow(.),-1:-2) %>%
t() %>%
mutate(variable = c(
NA, "경기", "전북", "경남", "전남", "부산", "경북", "세종", "대전", "울산",
"인천", "강원", "충남", "제주", "충북", "서울", "대구", "광주"
)) %>%
data.frame()
hc_key <- mapdata %>%
select("hc-key") %>%
mutate(variable = c(
NA, "경기", "전북", "경남", "전남", "부산", "경북", "세종", "대전", "울산",
"인천", "강원", "충남", "제주", "충북", "서울", "대구", "광주"
)) %>%
join(., icu_global, match = "all", "variable") %>%
mutate(perc = round(beds / limit, 2))
View(hc_key)
hcmap(
map = "countries/kr/kr-all",
data = hc_key,
value = "perc",
dataLabels = list(enabled = F)
)
library(shiny)
if (interactive()) {
shinyApp(
ui = fluidPage(
wellPanel("mouseOver and click points for additional information"),
uiOutput("click_ui"),
uiOutput("mouseOver_ui"),
highchartOutput("plot_hc")
),
server = function(input, output) {
df <- data.frame(x = 1:5, y = 1:5, otherInfo = letters[11:15])
output$plot_hc <- renderHighchart({
highchart() %>%
hc_add_series(df, "scatter") %>%
hc_add_event_point(event = "click") %>%
hc_add_event_point(event = "mouseOver")
})
observeEvent(input$plot_hc, print(paste("plot_hc", input$plot_hc)))
output$click_ui <- renderUI({
if (is.null(input$plot_hc_click)) {
return()
}
wellPanel("Coordinates of clicked point: ", input$plot_hc_click$x, input$plot_hc_click$y)
})
output$mouseOver_ui <- renderUI({
if (is.null(input$plot_hc_mouseOver)) {
return()
}
wellPanel("Coordinates of mouseOvered point: ", input$plot_hc_mouseOver$x, input$plot_hc_mouseOver$y)
})
}
)
}
hcmap(
map = "countries/kr/kr-all",
data = hc_key,
value = "perc",
dataLabels = list(enabled = F)
) %>%
hc_add_event_point(event = "click") %>%
hc_add_event_point(event = "mouseOver")
if (interactive()) {
shinyApp(
ui = fluidPage(
wellPanel("mouseOver and click points for additional information"),
uiOutput("click_ui"),
uiOutput("mouseOver_ui"),
highchartOutput("plot_hc")
),
server = function(input, output) {
df <- data.frame(x = 1:5, y = 1:5, otherInfo = letters[11:15])
output$plot_hc <- renderHighchart({
hcmap(
map = "countries/kr/kr-all",
data = hc_key,
value = "perc",
dataLabels = list(enabled = F)
) %>%
hc_add_event_point(event = "click") %>%
hc_add_event_point(event = "mouseOver")
})
observeEvent(input$plot_hc, print(paste("plot_hc", input$plot_hc)))
output$click_ui <- renderUI({
if (is.null(input$plot_hc_click)) {
return()
}
wellPanel("Coordinates of clicked point: ", input$plot_hc_click$x, input$plot_hc_click$y)
})
output$mouseOver_ui <- renderUI({
if (is.null(input$plot_hc_mouseOver)) {
return()
}
wellPanel("Coordinates of mouseOvered point: ", input$plot_hc_mouseOver$x, input$plot_hc_mouseOver$y)
})
}
)
}
vignette("highcharter")
JS(awe)
JS("asdf")
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
global_total[1,2]/global_total[2,2]
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
wide <- read.table(header = T,
text='
subject sex control cond1 cond2
1 M 7.9 12.3 10.7
2 F 6.3 10.6 11.1
3 F 9.5 13.1 13.8
4 M 11.5 13.4 12.9
')
View(wide)
library(tidyr)
gather(wide)
gather(raw_icu)
View(raw_icu)
gather(raw_icu[,-1:-2])
raw_icu[,-1:-2]
View(raw_icu)
library(reshape2)
raw_icu %>%
`[`(,-1:-2) %>%
mutate(1:nrow(.))
a1 <- raw_icu %>%
`[`(,-1:-2) %>%
mutate(1:nrow(.))
View(a1)
1:nrow(.)
a1 <- raw_icu %>%
`[`(,-1:-2) %>%
mutate(no = 1:nrow(.))
View(a1)
a1 <- raw_icu %>%
`[`(,-1:-2) %>%
mutate(no = 1:nrow(.)) %>%
melt(id.vars="no")
View(a1)
a1 <- raw_icu %>%
`[`(,-1:-2) %>%
mutate(no = 1:nrow(.)) %>%
melt(id.vars="no") %>%
t()
View(a1)
a1 <- raw_icu %>%
`[`(,-1:-2) %>%
mutate(no = 1:nrow(.)) %>%
t()
View(a1)
a1 <- raw_icu %>%
`[`(250:300,-1:-2) %>%
mutate(no = 1:nrow(.)) %>%
t()
View(a1)
a1 <- raw_icu %>%
`[`(250:300,-1:-2) %>%
mutate(no = 1:nrow(.)) %>%
t() %>%
mutate(geo = rownames(.))
rownames(a1)
a1 <- raw_icu %>%
`[`(250:300,-1:-2) %>%
t() %>%
mutate(geo = rownames(.))
rownames(.)
a1 <- raw_icu %>%
`[`(250:300,-1:-2) %>%
t() %>%
data.frame()
View(a1)
a1 <- raw_icu %>%
`[`(250:300,-1:-2) %>%
t() %>%
data.frame() %>%
mutate(var = rownames())
a1 <- raw_icu %>%
`[`(250:300,-1:-2) %>%
t() %>%
data.frame() %>%
mutate(var = rownames(.))
View(a1)
hc_chart("line",
a1)
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
install.packages("shiny.semantic")
library(shiny); runApp('shiny_app/app2.R')
runApp('shiny_app/app2.R')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
install.packages("purrrlyr")
runApp('demo.r')
devtools::install_github("Appsilon/highlighter")
runApp('demo.r')
runApp('demo.r')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
runApp('~/yd_10/shiny_app')
remotes::install_github("Appsilon/shiny.semantic@develop")
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
styler:::style_active_file()
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
styler:::style_active_file()
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
runApp('shiny_app/exc.R')
gpg --list -key
gpg2
icu_data <- readRDS("~/yd_10/icu_data.rds")
View(icu_data)
